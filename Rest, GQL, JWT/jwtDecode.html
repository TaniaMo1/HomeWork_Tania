<!DOCTYPE html>
<html>
<head>
    <title>jwt</title>
</head>
<body>

    <script>
      function jwtDecode(token) {
            try {
                if (!token) {
                    return undefined;
                }

                const parts = token.split('.');
                if (parts.length !== 3) {
                    return undefined;
                }

                const decoded = atob(parts[1]);
                const payload = JSON.parse(decoded);

                return payload;
            } catch (error) {
                return undefined;
            }
        }

        const token = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOnsiaWQiOiI2MzIyMDVhZWI3NGUxZjVmMmVjMWEzMjAiLCJsb2dpbiI6InRlc3Q0NTciLCJhY2wiOlsiNjMyMjA5NzFkNGIzY2UxYzAwYTI4ODAiLCJ1c2VyIl19LCJpYXQiOjE2NjgyNzIxNjN9.rxV1ki9G6LjT2IPWcqkMeTi_1K9sb3Si8vLB6UDAGdw"
        console.log(jwtDecode(token));

        try {
            console.log(jwtDecode());         // undefined
            console.log(jwtDecode("дічь"));   // undefined
            console.log(jwtDecode("ey.ey.ey"));   // undefined
            
            console.log('до сюди допрацювало, а значить jwtDecode не матюкався в консоль червоним кольором');
        } finally {
            console.log('ДЗ, мабуть, закінчено');
        }
    </script>
</body>
</html>